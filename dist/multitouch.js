var Multitouch=function(){function t(t){this.interactions={},document=t}return t.prototype.init=function(){var t=this;document.addEventListener("touchstart",function(n){t.handleInteraction(n)}),document.addEventListener("touchend",function(n){t.handleInteraction(n)}),document.addEventListener("touchcancel",function(n){t.handleInteraction(n)}),document.addEventListener("touchmove",function(n){t.handleInteraction(n)}),document.addEventListener("mousedown",function(n){t.handleInteraction(n)}),document.addEventListener("mouseup",function(n){t.handleInteraction(n)}),document.addEventListener("click",function(n){t.handleInteraction(n)})},t.prototype.handleInteraction=function(t){if(t instanceof TouchEvent)for(var n=0;n<t.changedTouches.length;n++){var e=t.changedTouches[n],i="touch-"+e.identifier,o=(e.target,this.interactions[i]);t.type.indexOf("start")?this.interactions[i]=new Interaction(i,t):t.type.indexOf("cancel")?this.interactions[i]=null:o&&o.update(t),o&&(o.ending=t.type.indexOf("end")>0,this.interactions[i]=o)}else if(t instanceof MouseEvent){var i="mouse",o=(t.target,this.interactions[i]);t.type.indexOf("down")?this.interactions[i]=new Interaction(i,t):o&&o.update(t),o&&(o.ending=t.type.indexOf("up")>0,this.interactions[i]=o)}this.coalesceInteractions()},t.prototype.coalesceInteractions=function(){},t}(),Interaction=function(){function t(t,n){this.ending=!1,this.updated=!1,this.id=t,this.startEvent=new EventWrapper(n),this.currentEvent=new EventWrapper(n),this.targetElm=this.startEvent.event.target;for(var e=this.targetElm.parentElement;null!=e;)!this.closestDragElm&&e.classList.contains("mt-draggable")&&(this.closestDragElm=e),!this.closestDragElm&&e.classList.contains("mt-scaleable")&&(this.closestScaleElm=e),e=e.parentElement}return t.prototype.update=function(t){this.previousEvent=this.currentEvent,this.currentEvent=new EventWrapper(t),this.updated=!0},t}(),EventWrapper=function(){function t(t){this.time=new Date,this.event=t}return t}();!function(t){var n=new Multitouch(t);n.init()}(document);